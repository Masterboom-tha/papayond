/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orderlist/route";
exports.ids = ["app/api/orderlist/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \*************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_comma_OneDrive_Documents_GitHub_papayond_src_app_api_orderlist_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/orderlist/route.js */ \"(rsc)/./src/app/api/orderlist/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orderlist/route\",\n        pathname: \"/api/orderlist\",\n        filename: \"route\",\n        bundlePath: \"app/api/orderlist/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\comma\\\\OneDrive\\\\Documents\\\\GitHub\\\\papayond\\\\src\\\\app\\\\api\\\\orderlist\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_comma_OneDrive_Documents_GitHub_papayond_src_app_api_orderlist_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orderlist/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlcmxpc3QlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yZGVybGlzdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yZGVybGlzdCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNjb21tYSU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDR2l0SHViJTVDcGFwYXlvbmQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2NvbW1hJTVDT25lRHJpdmUlNUNEb2N1bWVudHMlNUNHaXRIdWIlNUNwYXBheW9uZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMkM7QUFDeEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWV4eS1tdWktbmV4dGpzLWFkbWluLXRlbXBsYXRlLz83YjBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGNvbW1hXFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxccGFwYXlvbmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb3JkZXJsaXN0XFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9vcmRlcmxpc3Qvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vcmRlcmxpc3RcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL29yZGVybGlzdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGNvbW1hXFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxccGFwYXlvbmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb3JkZXJsaXN0XFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9vcmRlcmxpc3Qvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/orderlist/route.js":
/*!****************************************!*\
  !*** ./src/app/api/orderlist/route.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/promise.js\");\n\nconst dbConnect = async ()=>{\n    console.log(\"Connecting to the database...\");\n    return await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n        host: process.env.DB_HOST,\n        user: process.env.DB_USER,\n        password: process.env.DB_PASSWORD,\n        database: process.env.DB_NAME\n    });\n};\nasync function GET(request) {\n    let connection;\n    try {\n        connection = await dbConnect();\n        console.log(\"Database connection established for GET request\");\n        const { searchParams } = new URL(request.url);\n        const uni_id = searchParams.get(\"uni_id\");\n        if (!uni_id) {\n            console.log(\"Missing parameter: uni_id\");\n            return new Response(JSON.stringify({\n                error: \"Parameter uni_id is required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"Executing query to fetch addresses with uni_id:\", uni_id);\n        const query = `\n      SELECT\n        a.id,\n        a.no_imported,\n        a.film_no,\n        a.fname,\n        a.lname,\n        a.facid,\n        a.update_date,\n        a.update_by,\n        GROUP_CONCAT(ab.booking_no) AS booking_no\n      FROM\n        address AS a\n      LEFT JOIN\n        address_booking AS ab ON a.id = ab.address_id\n      WHERE\n        a.uni_id = ?\n      GROUP BY\n        a.id\n    `;\n        const [rows] = await connection.execute(query, [\n            uni_id\n        ]);\n        console.log(\"Fetched rows:\", rows);\n        const facidArray = rows.map((row)=>row.facid);\n        console.log(\"Facid array:\", facidArray);\n        if (facidArray.length === 0) {\n            console.log(\"No facid found, returning rows\");\n            return new Response(JSON.stringify({\n                data: rows\n            }), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"Fetching faculty names for facids:\", facidArray);\n        const facidPlaceholders = facidArray.map(()=>\"?\").join(\", \");\n        const query2 = `\n      SELECT\n        id AS facid,\n        facuname\n      FROM\n        m_faculties\n      WHERE\n        id IN (${facidPlaceholders})\n    `;\n        const [faculties] = await connection.execute(query2, facidArray);\n        console.log(\"Fetched faculties:\", faculties);\n        const facultyMap = new Map(faculties.map((faculty)=>[\n                faculty.facid,\n                faculty.facuname\n            ]));\n        console.log(\"Faculty map:\", facultyMap);\n        const result = rows.map((row)=>({\n                ...row,\n                facuname: facultyMap.get(row.facid) || \"\"\n            }));\n        console.log(\"Final result:\", result);\n        return new Response(JSON.stringify({\n            data: result\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching addresses:\", error.message);\n        return new Response(JSON.stringify({\n            error: \"Failed to fetch addresses\",\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } finally{\n        if (connection) {\n            await connection.end();\n            console.log(\"Database connection closed for GET request\");\n        }\n    }\n}\nasync function PUT(request) {\n    let connection;\n    try {\n        connection = await dbConnect();\n        console.log(\"Database connection established for PUT request\");\n        const body = await request.json();\n        let { id, film_no, booking_no, update_by, uni_id } = body;\n        if (!id) {\n            console.log(\"Missing parameter: id\");\n            return new Response(JSON.stringify({\n                error: \"Parameter id is required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"Received body:\", body);\n        film_no = film_no !== undefined ? film_no : null;\n        booking_no = booking_no !== undefined ? booking_no : null;\n        update_by = update_by !== undefined ? update_by : null;\n        uni_id = uni_id !== undefined ? uni_id : null;\n        await connection.beginTransaction();\n        console.log(\"Transaction started for PUT request\");\n        const updateAddressQuery = `\n      UPDATE address\n      SET film_no = ?, booking_no = ?, update_date = NOW(), update_by = ?\n      WHERE id = ?\n    `;\n        await connection.execute(updateAddressQuery, [\n            film_no,\n            booking_no,\n            update_by,\n            id\n        ]);\n        console.log(\"Updated address table with id:\", id);\n        const checkBookingQuery = `\n      SELECT id FROM b_bookingfw WHERE orderid = ?\n    `;\n        const [existingBooking] = await connection.execute(checkBookingQuery, [\n            id\n        ]);\n        console.log(\"Existing booking check result:\", existingBooking);\n        if (existingBooking.length > 0) {\n            const updateBookingQuery = `\n        UPDATE b_bookingfw\n        SET booking_no = ?, film_no = ?, uni_id = ?\n        WHERE orderid = ?\n      `;\n            await connection.execute(updateBookingQuery, [\n                booking_no,\n                film_no,\n                uni_id,\n                id\n            ]);\n            console.log(\"Updated b_bookingfw with orderid:\", id);\n        } else {\n            const insertBookingQuery = `\n        INSERT INTO b_bookingfw (booking_no, uni_id, orderid, film_no)\n        VALUES (?, ?, ?, ?)\n      `;\n            await connection.execute(insertBookingQuery, [\n                booking_no,\n                uni_id,\n                id,\n                film_no\n            ]);\n            console.log(\"Inserted into b_bookingfw with orderid:\", id);\n        }\n        const checkAddressBookingQuery = `\n      SELECT * FROM address_booking WHERE address_id = ?\n    `;\n        const [existingAddressBooking] = await connection.execute(checkAddressBookingQuery, [\n            id\n        ]);\n        console.log(\"Existing address booking check result:\", existingAddressBooking);\n        if (existingAddressBooking.length > 0) {\n            const updateAddressBookingQuery = `\n        UPDATE address_booking\n        SET booking_no = ?, film_no = ?, uni_id = ?\n        WHERE address_id = ?\n      `;\n            const [updateResult] = await connection.execute(updateAddressBookingQuery, [\n                booking_no,\n                film_no,\n                uni_id,\n                id\n            ]);\n            console.log(\"Updated address_booking:\", updateResult);\n        } else {\n            const insertAddressBookingQuery = `\n        INSERT INTO address_booking (booking_no, address_id, film_no, uni_id)\n        VALUES (?, ?, ?, ?)\n      `;\n            const [insertResult] = await connection.execute(insertAddressBookingQuery, [\n                booking_no,\n                id,\n                film_no,\n                uni_id\n            ]);\n            console.log(\"Inserted into address_booking:\", insertResult);\n        }\n        await connection.commit();\n        console.log(\"Transaction committed for PUT request\");\n        return new Response(JSON.stringify({\n            message: \"Reservation updated/inserted successfully\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        if (connection) {\n            await connection.rollback();\n            console.log(\"Transaction rolled back due to error:\", error.message);\n        }\n        console.error(\"Error updating/inserting reservation:\", error.message);\n        return new Response(JSON.stringify({\n            error: \"Failed to update/insert reservation\",\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } finally{\n        if (connection) {\n            await connection.end();\n            console.log(\"Database connection closed for PUT request\");\n        }\n    }\n}\nasync function DELETE(request) {\n    let connection;\n    try {\n        connection = await dbConnect();\n        console.log(\"Database connection established for DELETE request\");\n        const body = await request.json();\n        const { id, booking_no } = body;\n        if (!id || !booking_no) {\n            console.log(\"Missing parameters: id or booking_no\");\n            return new Response(JSON.stringify({\n                error: \"Parameters id and booking_no are required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"Received body for DELETE:\", body);\n        await connection.beginTransaction();\n        console.log(\"Transaction started for DELETE request\");\n        const deleteAddressBookingQuery = `\n      DELETE FROM address_booking WHERE address_id = ? AND booking_no = ?\n    `;\n        await connection.execute(deleteAddressBookingQuery, [\n            id,\n            booking_no\n        ]);\n        console.log(\"Deleted from address_booking with address_id:\", id, \"and booking_no:\", booking_no);\n        await connection.commit();\n        console.log(\"Transaction committed for DELETE request\");\n        return new Response(JSON.stringify({\n            message: \"Reservation deleted successfully\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        if (connection) {\n            await connection.rollback();\n            console.log(\"Transaction rolled back due to error:\", error.message);\n        }\n        console.error(\"Error deleting reservation:\", error.message);\n        return new Response(JSON.stringify({\n            error: \"Failed to delete reservation\",\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } finally{\n        if (connection) {\n            await connection.end();\n            console.log(\"Database connection closed for DELETE request\");\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly4vc3JjL2FwcC9hcGkvb3JkZXJsaXN0L3JvdXRlLmpzPzk1ODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJ1xuXG5jb25zdCBkYkNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdDb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZS4uLicpXG4gIHJldHVybiBhd2FpdCBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICAgIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FXG4gIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xuICBsZXQgY29ubmVjdGlvblxuXG4gIHRyeSB7XG4gICAgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpXG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgZm9yIEdFVCByZXF1ZXN0JylcblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHVuaV9pZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VuaV9pZCcpXG5cbiAgICBpZiAoIXVuaV9pZCkge1xuICAgICAgY29uc29sZS5sb2coJ01pc3NpbmcgcGFyYW1ldGVyOiB1bmlfaWQnKVxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnUGFyYW1ldGVyIHVuaV9pZCBpcyByZXF1aXJlZCcgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdFeGVjdXRpbmcgcXVlcnkgdG8gZmV0Y2ggYWRkcmVzc2VzIHdpdGggdW5pX2lkOicsIHVuaV9pZClcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBhLmlkLFxuICAgICAgICBhLm5vX2ltcG9ydGVkLFxuICAgICAgICBhLmZpbG1fbm8sXG4gICAgICAgIGEuZm5hbWUsXG4gICAgICAgIGEubG5hbWUsXG4gICAgICAgIGEuZmFjaWQsXG4gICAgICAgIGEudXBkYXRlX2RhdGUsXG4gICAgICAgIGEudXBkYXRlX2J5LFxuICAgICAgICBHUk9VUF9DT05DQVQoYWIuYm9va2luZ19ubykgQVMgYm9va2luZ19ub1xuICAgICAgRlJPTVxuICAgICAgICBhZGRyZXNzIEFTIGFcbiAgICAgIExFRlQgSk9JTlxuICAgICAgICBhZGRyZXNzX2Jvb2tpbmcgQVMgYWIgT04gYS5pZCA9IGFiLmFkZHJlc3NfaWRcbiAgICAgIFdIRVJFXG4gICAgICAgIGEudW5pX2lkID0gP1xuICAgICAgR1JPVVAgQllcbiAgICAgICAgYS5pZFxuICAgIGBcblxuICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgW3VuaV9pZF0pXG4gICAgY29uc29sZS5sb2coJ0ZldGNoZWQgcm93czonLCByb3dzKVxuXG4gICAgY29uc3QgZmFjaWRBcnJheSA9IHJvd3MubWFwKHJvdyA9PiByb3cuZmFjaWQpXG4gICAgY29uc29sZS5sb2coJ0ZhY2lkIGFycmF5OicsIGZhY2lkQXJyYXkpXG5cbiAgICBpZiAoZmFjaWRBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBmYWNpZCBmb3VuZCwgcmV0dXJuaW5nIHJvd3MnKVxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGRhdGE6IHJvd3MgfSksIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBmYWN1bHR5IG5hbWVzIGZvciBmYWNpZHM6JywgZmFjaWRBcnJheSlcbiAgICBjb25zdCBmYWNpZFBsYWNlaG9sZGVycyA9IGZhY2lkQXJyYXkubWFwKCgpID0+ICc/Jykuam9pbignLCAnKVxuICAgIGNvbnN0IHF1ZXJ5MiA9IGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBpZCBBUyBmYWNpZCxcbiAgICAgICAgZmFjdW5hbWVcbiAgICAgIEZST01cbiAgICAgICAgbV9mYWN1bHRpZXNcbiAgICAgIFdIRVJFXG4gICAgICAgIGlkIElOICgke2ZhY2lkUGxhY2Vob2xkZXJzfSlcbiAgICBgXG4gICAgY29uc3QgW2ZhY3VsdGllc10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnkyLCBmYWNpZEFycmF5KVxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIGZhY3VsdGllczonLCBmYWN1bHRpZXMpXG5cbiAgICBjb25zdCBmYWN1bHR5TWFwID0gbmV3IE1hcChmYWN1bHRpZXMubWFwKGZhY3VsdHkgPT4gW2ZhY3VsdHkuZmFjaWQsIGZhY3VsdHkuZmFjdW5hbWVdKSlcbiAgICBjb25zb2xlLmxvZygnRmFjdWx0eSBtYXA6JywgZmFjdWx0eU1hcClcblxuICAgIGNvbnN0IHJlc3VsdCA9IHJvd3MubWFwKHJvdyA9PiAoe1xuICAgICAgLi4ucm93LFxuICAgICAgZmFjdW5hbWU6IGZhY3VsdHlNYXAuZ2V0KHJvdy5mYWNpZCkgfHwgJydcbiAgICB9KSlcbiAgICBjb25zb2xlLmxvZygnRmluYWwgcmVzdWx0OicsIHJlc3VsdClcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBkYXRhOiByZXN1bHQgfSksIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFkZHJlc3NlczonLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFkZHJlc3NlcycsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH1cbiAgICApXG4gIH0gZmluYWxseSB7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIGNsb3NlZCBmb3IgR0VUIHJlcXVlc3QnKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3QpIHtcbiAgbGV0IGNvbm5lY3Rpb25cblxuICB0cnkge1xuICAgIGNvbm5lY3Rpb24gPSBhd2FpdCBkYkNvbm5lY3QoKVxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkIGZvciBQVVQgcmVxdWVzdCcpXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgbGV0IHsgaWQsIGZpbG1fbm8sIGJvb2tpbmdfbm8sIHVwZGF0ZV9ieSwgdW5pX2lkIH0gPSBib2R5XG5cbiAgICBpZiAoIWlkKSB7XG4gICAgICBjb25zb2xlLmxvZygnTWlzc2luZyBwYXJhbWV0ZXI6IGlkJylcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1BhcmFtZXRlciBpZCBpcyByZXF1aXJlZCcgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBib2R5OicsIGJvZHkpXG5cbiAgICBmaWxtX25vID0gZmlsbV9ubyAhPT0gdW5kZWZpbmVkID8gZmlsbV9ubyA6IG51bGxcbiAgICBib29raW5nX25vID0gYm9va2luZ19ubyAhPT0gdW5kZWZpbmVkID8gYm9va2luZ19ubyA6IG51bGxcbiAgICB1cGRhdGVfYnkgPSB1cGRhdGVfYnkgIT09IHVuZGVmaW5lZCA/IHVwZGF0ZV9ieSA6IG51bGxcbiAgICB1bmlfaWQgPSB1bmlfaWQgIT09IHVuZGVmaW5lZCA/IHVuaV9pZCA6IG51bGxcblxuICAgIGF3YWl0IGNvbm5lY3Rpb24uYmVnaW5UcmFuc2FjdGlvbigpXG4gICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIHN0YXJ0ZWQgZm9yIFBVVCByZXF1ZXN0JylcblxuICAgIGNvbnN0IHVwZGF0ZUFkZHJlc3NRdWVyeSA9IGBcbiAgICAgIFVQREFURSBhZGRyZXNzXG4gICAgICBTRVQgZmlsbV9ubyA9ID8sIGJvb2tpbmdfbm8gPSA/LCB1cGRhdGVfZGF0ZSA9IE5PVygpLCB1cGRhdGVfYnkgPSA/XG4gICAgICBXSEVSRSBpZCA9ID9cbiAgICBgXG4gICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHVwZGF0ZUFkZHJlc3NRdWVyeSwgW2ZpbG1fbm8sIGJvb2tpbmdfbm8sIHVwZGF0ZV9ieSwgaWRdKVxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIGFkZHJlc3MgdGFibGUgd2l0aCBpZDonLCBpZClcblxuICAgIGNvbnN0IGNoZWNrQm9va2luZ1F1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIGlkIEZST00gYl9ib29raW5nZncgV0hFUkUgb3JkZXJpZCA9ID9cbiAgICBgXG4gICAgY29uc3QgW2V4aXN0aW5nQm9va2luZ10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoY2hlY2tCb29raW5nUXVlcnksIFtpZF0pXG4gICAgY29uc29sZS5sb2coJ0V4aXN0aW5nIGJvb2tpbmcgY2hlY2sgcmVzdWx0OicsIGV4aXN0aW5nQm9va2luZylcblxuICAgIGlmIChleGlzdGluZ0Jvb2tpbmcubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdXBkYXRlQm9va2luZ1F1ZXJ5ID0gYFxuICAgICAgICBVUERBVEUgYl9ib29raW5nZndcbiAgICAgICAgU0VUIGJvb2tpbmdfbm8gPSA/LCBmaWxtX25vID0gPywgdW5pX2lkID0gP1xuICAgICAgICBXSEVSRSBvcmRlcmlkID0gP1xuICAgICAgYFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHVwZGF0ZUJvb2tpbmdRdWVyeSwgW2Jvb2tpbmdfbm8sIGZpbG1fbm8sIHVuaV9pZCwgaWRdKVxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgYl9ib29raW5nZncgd2l0aCBvcmRlcmlkOicsIGlkKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbnNlcnRCb29raW5nUXVlcnkgPSBgXG4gICAgICAgIElOU0VSVCBJTlRPIGJfYm9va2luZ2Z3IChib29raW5nX25vLCB1bmlfaWQsIG9yZGVyaWQsIGZpbG1fbm8pXG4gICAgICAgIFZBTFVFUyAoPywgPywgPywgPylcbiAgICAgIGBcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShpbnNlcnRCb29raW5nUXVlcnksIFtib29raW5nX25vLCB1bmlfaWQsIGlkLCBmaWxtX25vXSlcbiAgICAgIGNvbnNvbGUubG9nKCdJbnNlcnRlZCBpbnRvIGJfYm9va2luZ2Z3IHdpdGggb3JkZXJpZDonLCBpZClcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja0FkZHJlc3NCb29raW5nUXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGFkZHJlc3NfYm9va2luZyBXSEVSRSBhZGRyZXNzX2lkID0gP1xuICAgIGBcbiAgICBjb25zdCBbZXhpc3RpbmdBZGRyZXNzQm9va2luZ10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoY2hlY2tBZGRyZXNzQm9va2luZ1F1ZXJ5LCBbaWRdKVxuICAgIGNvbnNvbGUubG9nKCdFeGlzdGluZyBhZGRyZXNzIGJvb2tpbmcgY2hlY2sgcmVzdWx0OicsIGV4aXN0aW5nQWRkcmVzc0Jvb2tpbmcpXG5cbiAgICBpZiAoZXhpc3RpbmdBZGRyZXNzQm9va2luZy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB1cGRhdGVBZGRyZXNzQm9va2luZ1F1ZXJ5ID0gYFxuICAgICAgICBVUERBVEUgYWRkcmVzc19ib29raW5nXG4gICAgICAgIFNFVCBib29raW5nX25vID0gPywgZmlsbV9ubyA9ID8sIHVuaV9pZCA9ID9cbiAgICAgICAgV0hFUkUgYWRkcmVzc19pZCA9ID9cbiAgICAgIGBcbiAgICAgIGNvbnN0IFt1cGRhdGVSZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHVwZGF0ZUFkZHJlc3NCb29raW5nUXVlcnksIFtib29raW5nX25vLCBmaWxtX25vLCB1bmlfaWQsIGlkXSlcbiAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIGFkZHJlc3NfYm9va2luZzonLCB1cGRhdGVSZXN1bHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGluc2VydEFkZHJlc3NCb29raW5nUXVlcnkgPSBgXG4gICAgICAgIElOU0VSVCBJTlRPIGFkZHJlc3NfYm9va2luZyAoYm9va2luZ19ubywgYWRkcmVzc19pZCwgZmlsbV9ubywgdW5pX2lkKVxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8pXG4gICAgICBgXG4gICAgICBjb25zdCBbaW5zZXJ0UmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShpbnNlcnRBZGRyZXNzQm9va2luZ1F1ZXJ5LCBbYm9va2luZ19ubywgaWQsIGZpbG1fbm8sIHVuaV9pZF0pXG4gICAgICBjb25zb2xlLmxvZygnSW5zZXJ0ZWQgaW50byBhZGRyZXNzX2Jvb2tpbmc6JywgaW5zZXJ0UmVzdWx0KVxuICAgIH1cblxuICAgIGF3YWl0IGNvbm5lY3Rpb24uY29tbWl0KClcbiAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gY29tbWl0dGVkIGZvciBQVVQgcmVxdWVzdCcpXG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ1Jlc2VydmF0aW9uIHVwZGF0ZWQvaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5JyB9KSwge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucm9sbGJhY2soKVxuICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIHJvbGxlZCBiYWNrIGR1ZSB0byBlcnJvcjonLCBlcnJvci5tZXNzYWdlKVxuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZy9pbnNlcnRpbmcgcmVzZXJ2YXRpb246JywgZXJyb3IubWVzc2FnZSlcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUvaW5zZXJ0IHJlc2VydmF0aW9uJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZVxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgfVxuICAgIClcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5lbmQoKVxuICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gY2xvc2VkIGZvciBQVVQgcmVxdWVzdCcpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdCkge1xuICBsZXQgY29ubmVjdGlvblxuXG4gIHRyeSB7XG4gICAgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpXG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgZm9yIERFTEVURSByZXF1ZXN0JylcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGlkLCBib29raW5nX25vIH0gPSBib2R5XG5cbiAgICBpZiAoIWlkIHx8ICFib29raW5nX25vKSB7XG4gICAgICBjb25zb2xlLmxvZygnTWlzc2luZyBwYXJhbWV0ZXJzOiBpZCBvciBib29raW5nX25vJylcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1BhcmFtZXRlcnMgaWQgYW5kIGJvb2tpbmdfbm8gYXJlIHJlcXVpcmVkJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGJvZHkgZm9yIERFTEVURTonLCBib2R5KVxuXG4gICAgYXdhaXQgY29ubmVjdGlvbi5iZWdpblRyYW5zYWN0aW9uKClcbiAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gc3RhcnRlZCBmb3IgREVMRVRFIHJlcXVlc3QnKVxuXG4gICAgY29uc3QgZGVsZXRlQWRkcmVzc0Jvb2tpbmdRdWVyeSA9IGBcbiAgICAgIERFTEVURSBGUk9NIGFkZHJlc3NfYm9va2luZyBXSEVSRSBhZGRyZXNzX2lkID0gPyBBTkQgYm9va2luZ19ubyA9ID9cbiAgICBgXG4gICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKGRlbGV0ZUFkZHJlc3NCb29raW5nUXVlcnksIFtpZCwgYm9va2luZ19ub10pXG4gICAgY29uc29sZS5sb2coJ0RlbGV0ZWQgZnJvbSBhZGRyZXNzX2Jvb2tpbmcgd2l0aCBhZGRyZXNzX2lkOicsIGlkLCAnYW5kIGJvb2tpbmdfbm86JywgYm9va2luZ19ubylcblxuICAgIGF3YWl0IGNvbm5lY3Rpb24uY29tbWl0KClcbiAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gY29tbWl0dGVkIGZvciBERUxFVEUgcmVxdWVzdCcpXG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ1Jlc2VydmF0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KSwge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucm9sbGJhY2soKVxuICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIHJvbGxlZCBiYWNrIGR1ZSB0byBlcnJvcjonLCBlcnJvci5tZXNzYWdlKVxuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyByZXNlcnZhdGlvbjonLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSByZXNlcnZhdGlvbicsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH1cbiAgICApXG4gIH0gZmluYWxseSB7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIGNsb3NlZCBmb3IgREVMRVRFIHJlcXVlc3QnKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIm15c3FsIiwiZGJDb25uZWN0IiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJ1c2VyIiwiREJfVVNFUiIsInBhc3N3b3JkIiwiREJfUEFTU1dPUkQiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJHRVQiLCJyZXF1ZXN0IiwiY29ubmVjdGlvbiIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInVuaV9pZCIsImdldCIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwiaGVhZGVycyIsInF1ZXJ5Iiwicm93cyIsImV4ZWN1dGUiLCJmYWNpZEFycmF5IiwibWFwIiwicm93IiwiZmFjaWQiLCJsZW5ndGgiLCJkYXRhIiwiZmFjaWRQbGFjZWhvbGRlcnMiLCJqb2luIiwicXVlcnkyIiwiZmFjdWx0aWVzIiwiZmFjdWx0eU1hcCIsIk1hcCIsImZhY3VsdHkiLCJmYWN1bmFtZSIsInJlc3VsdCIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiZW5kIiwiUFVUIiwiYm9keSIsImpzb24iLCJpZCIsImZpbG1fbm8iLCJib29raW5nX25vIiwidXBkYXRlX2J5IiwidW5kZWZpbmVkIiwiYmVnaW5UcmFuc2FjdGlvbiIsInVwZGF0ZUFkZHJlc3NRdWVyeSIsImNoZWNrQm9va2luZ1F1ZXJ5IiwiZXhpc3RpbmdCb29raW5nIiwidXBkYXRlQm9va2luZ1F1ZXJ5IiwiaW5zZXJ0Qm9va2luZ1F1ZXJ5IiwiY2hlY2tBZGRyZXNzQm9va2luZ1F1ZXJ5IiwiZXhpc3RpbmdBZGRyZXNzQm9va2luZyIsInVwZGF0ZUFkZHJlc3NCb29raW5nUXVlcnkiLCJ1cGRhdGVSZXN1bHQiLCJpbnNlcnRBZGRyZXNzQm9va2luZ1F1ZXJ5IiwiaW5zZXJ0UmVzdWx0IiwiY29tbWl0Iiwicm9sbGJhY2siLCJERUxFVEUiLCJkZWxldGVBZGRyZXNzQm9va2luZ1F1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/orderlist/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/mysql2@3.11.0","vendor-chunks/aws-ssl-profiles@1.1.1","vendor-chunks/iconv-lite@0.6.3","vendor-chunks/lru-cache@8.0.5","vendor-chunks/long@5.2.3","vendor-chunks/lru-cache@7.18.3","vendor-chunks/denque@2.1.0","vendor-chunks/is-property@1.0.2","vendor-chunks/sqlstring@2.3.3","vendor-chunks/seq-queue@0.0.5","vendor-chunks/named-placeholders@1.1.3","vendor-chunks/generate-function@2.3.1","vendor-chunks/safer-buffer@2.1.2"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDocuments%5CGitHub%5Cpapayond&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();